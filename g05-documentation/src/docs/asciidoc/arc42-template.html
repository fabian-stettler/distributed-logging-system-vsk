<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Template</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1><span class="image"><img src="./images/arc42-logo.png" alt="arc42"></span> Template</h1>
<div class="details">
<span id="revnumber">version 8.2 EN,</span>
<span id="revdate">January 2023</span>
<br><span id="revremark">(based upon AsciiDoc version)</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_übersicht_der_anforderungen">1. Übersicht der Anforderungen</a>
<ul class="sectlevel2">
<li><a href="#_qualitätsziele">1.1. Qualitätsziele</a></li>
<li><a href="#_projektumgebung">1.2. Projektumgebung</a></li>
</ul>
</li>
<li><a href="#section-architecture-constraints">2. Architecture Constraints</a></li>
<li><a href="#section-system-scope-and-context">3. System Scope and Context</a>
<ul class="sectlevel2">
<li><a href="#_business_context">3.1. Business Context</a></li>
<li><a href="#_technical_context">3.2. Technical Context</a></li>
</ul>
</li>
<li><a href="#section-solution-strategy">4. Solution Strategy</a></li>
<li><a href="#section-building-block-view">5. Building Block View</a>
<ul class="sectlevel2">
<li><a href="#_level_2_container_diagram">5.1. Level 2 - Container-Diagram</a></li>
<li><a href="#_level_3_component_diagram">5.2. Level 3 - Component-Diagram</a></li>
<li><a href="#_level_4_klassen_diagramm">5.3. Level 4 - Klassen Diagramm</a></li>
</ul>
</li>
<li><a href="#section-runtime-view">6. Runtime View</a>
<ul class="sectlevel2">
<li><a href="#_erstellung_eines_neuen_loggercomponent">6.1. Erstellung eines neuen LoggerComponent</a></li>
<li><a href="#_senden_von_logs">6.2. Senden von Logs</a></li>
<li><a href="#_senden_von_objekten_über_das_netzwerk">6.3. Senden von Objekten über das Netzwerk</a></li>
</ul>
</li>
<li><a href="#section-deployment-view">7. Deployment View</a>
<ul class="sectlevel2">
<li><a href="#_infrastructure_level_1">7.1. Infrastructure Level 1</a></li>
<li><a href="#_infrastructure_level_2">7.2. Infrastructure Level 2</a></li>
</ul>
</li>
<li><a href="#_concepts">8. Concepts</a>
<ul class="sectlevel2">
<li><a href="#_schnittstelle_zwischen_loggercomponent_und_loggerserver">8.1. Schnittstelle zwischen LoggerComponent und LoggerServer</a></li>
<li><a href="#_teststrategie_für_das_logger_projekt">8.2. Teststrategie für das Logger-Projekt</a></li>
</ul>
</li>
<li><a href="#section-design-decisions">9. Architecture Decisions</a>
<ul class="sectlevel2">
<li><a href="#_log_adapter_pattern">9.1. Log Adapter Pattern</a></li>
</ul>
</li>
<li><a href="#section-quality-scenarios">10. Quality Requirements</a>
<ul class="sectlevel2">
<li><a href="#_quality_tree">10.1. Quality Tree</a></li>
<li><a href="#_quality_scenarios">10.2. Quality Scenarios</a></li>
</ul>
</li>
<li><a href="#section-technical-risks">11. Risks and Technical Debts</a>
<ul class="sectlevel2">
<li><a href="#_architektur">11.1. Architektur</a></li>
<li><a href="#_design">11.2. Design</a></li>
<li><a href="#_modularisierung">11.3. Modularisierung</a></li>
<li><a href="#_implementierung">11.4. Implementierung</a></li>
<li><a href="#_testing">11.5. Testing</a></li>
</ul>
</li>
<li><a href="#section-Test_Protokolle">12. Test Protokoll</a>
<ul class="sectlevel2">
<li><a href="#_test_protokoll_1_logger_client_cashing_ohne_verbindung_zum_server">12.1. Test-Protokoll 1: Logger Client cashing ohne Verbindung zum Server</a></li>
<li><a href="#_test_protokoll_2_logger_server_hat_verbindungsunterbruch_während_dem_senden_von_logmessages">12.2. Test-Protokoll 2: Logger Server hat Verbindungsunterbruch während dem Senden von LogMessages</a></li>
<li><a href="#_test_protokoll_3_client_sendet_logmessages_an_server_und_loggerviewer_zeigt_sie_live_an">12.3. Test-Protokoll 3: Client sendet LogMessages an Server und LoggerViewer zeigt sie live an</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<style>
.arc42help {font-size:small; width: 14px; height: 16px; overflow: hidden; position: absolute; right: 0; padding: 2px 0 3px 2px;}
.arc42help::before {content: "?";}
.arc42help:hover {width:auto; height: auto; z-index: 100; padding: 10px;}
.arc42help:hover::before {content: "";}
@media print {
	.arc42help {display:none;}
}
</style>
<div class="paragraph">
<p><strong>About arc42</strong></p>
</div>
<div class="paragraph lead">
<p>arc42, the template for documentation of software and system architecture.</p>
</div>
<div class="paragraph">
<p>Template Version 8.2 EN. (based upon AsciiDoc version), January 2023</p>
</div>
<div class="paragraph">
<p>Created, maintained and &#169; by Dr. Peter Hruschka, Dr. Gernot Starke and contributors.
See <a href="https://arc42.org" class="bare">https://arc42.org</a>.</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Dieses Dokument beschreibt die Ziele und Anforderungen des Projekts für ein verteiltes Logging-System, das in mehreren Sprints umgesetzt wird, um Zuverlässigkeit, Skalierbarkeit und Erweiterbarkeit sicherzustellen.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_übersicht_der_anforderungen">1. Übersicht der Anforderungen</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Transparente Behandlung von Netzwerkunterbrechungen.</p>
</li>
<li>
<p>Unterstützung mehrerer Logger-Komponenten auf verschiedenen Systemen.</p>
</li>
<li>
<p>Erweiterbarkeit der Speicherformate und flexible Konfigurationsmöglichkeiten.</p>
</li>
<li>
<p>Echtzeitanzeige von Log-Messages über einen LoggerViewer.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_qualitätsziele">1.1. Qualitätsziele</h3>
<div class="ulist">
<ul>
<li>
<p>Sicherstellung von Konsistenz und Zuverlässigkeit beim Loggen, auch bei Verbindungsunterbrüchen.</p>
</li>
<li>
<p>Hohe Wartbarkeit durch den Einsatz von Design-Patterns wie Adapter und Strategien.</p>
</li>
<li>
<p>Skalierbare Architektur, die wachsende Anforderungen unterstützt.</p>
</li>
<li>
<p>Vorbereitung auf Wettbewerbsbedingungen mit standardisierten Log-Formaten.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_projektumgebung">1.2. Projektumgebung</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Rolle</em></th>
<th class="tableblock halign-left valign-top"><em>Gruppenmitglieder</em></th>
<th class="tableblock halign-left valign-top"><em>Beschreibung</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Projektüberwachung</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>R. Gisler, M. Bättig</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Überwachung des Fortschritts, Sicherstellung der Ziele und Problemmanagement.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Entwicklerteam</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M. Joss, F. Stettler, R. Venetz, T.Felder</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Klare Anforderungen, saubere Codebasis, Zugang zu benötigten Ressourcen.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Test-Team</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M. Joss, F. Stettler, R. Venetz, T.Felder</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Detaillierte Teststrategie, klar definierte Akzeptanzkriterien, verlässliche Testumgebung.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Nutzer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Systemadministratoren</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Einfaches Deployment, transparente Log-Ausgabe, Wiederherstellbarkeit nach Fehlern.</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Die Mitglieder des Projektteams haben die folgenden Verantwortlichkeiten innegehabt.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Aufgabe</em></th>
<th class="tableblock halign-left valign-top"><em>Gruppenmitglied</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Projektleiter</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Fabian Stettler</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Scrum Master</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Robin Venetz</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Schnittstellenverantwortlicher</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Tobias Felder</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Product-Owner</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Michael Joss</em></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-architecture-constraints">2. Architecture Constraints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Für die Umgebung und Struktur rund um den Logger, haben wir uns dazu entschieden ein Context-Diagramm zu erstellen.
Dieses Zeigt die relevanten Akteure und Systeme auf und bereitet uns so eine Übersicht über das Gesamtsystem.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/C4_Context.png" alt="Context Diagramm C4" width="600px">
</div>
<div class="title">Figure 1. C4_Context Diagramm</div>
</div>
<div class="paragraph">
<p>Der Administrator eines Systems kann über das Verteilte Logging System einen Logger auf einem Client einrichten. Dieser Logger ermöglicht es, Logs zentral zu sammeln und zu überwachen. Dabei erhält der Administrator eine umfassende Übersicht über die Logs des jeweiligen Clients, einschliesslich:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Echtzeit-Überwachung:</strong> Neue Logs werden sofort an den zentralen LoggerServer weitergeleitet.</p>
</li>
<li>
<p><strong>Historische Logs:</strong> Alle gespeicherten Logs können bei Bedarf analysiert werden.</p>
</li>
<li>
<p><strong>LoggerViewer:</strong> Es wurde ein LoggerViewer implementiert, welcher in Echtzeit die eintreffenden Logs aller verbundenen LoggerComponents auf dem LoggerServer angezeigt.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Beispielhafte Nutzung:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Der Administrator konfiguriert einen LoggerComponent auf einem zu überwachenden System, indem er den Hostnamen, sowie den Port des LoggerServers spezifiziert.</p>
</li>
<li>
<p>Mittels dem LoggerComponent können nun LogMessages an den LoggerServer gesendet und somit zentral gesammelt werden.</p>
</li>
<li>
<p>Bei Störungen oder Problemen in der Verbindung zum Server kann das System die LogMessages zwischenspeichern und bei einem erneuten Verbindungsaufbau wieder senden.</p>
</li>
<li>
<p>Die zentral gesammelten LogMessages können mittels eines Monitoring-Tools wie z.B. dem LoggerViewer eingesehen werden</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-system-scope-and-context">3. System Scope and Context</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_business_context">3.1. Business Context</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Externe Akteure</th>
<th class="tableblock halign-left valign-top">Beschreibung</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Systemadministratoren</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verantwortlich für die Konfiguration und Überwachung des Logger-Systems.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Kunden (Endnutzer der Applikation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indirekte Nutzer, die von den Logs profitieren (z. B. bei der Fehlersuche oder Verbesserung der Applikation).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Qualitätsmanager</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bewertet die Qualität der Logs und deren Konformität mit den Standards.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Externen Domänenschnittstellen</strong></p>
</div>
<div class="paragraph">
<p>Das System interagiert mit den folgenden externen Domänen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Netzwerkadministration</strong>: Zur Verwaltung der Netzwerkverbindungen zwischen den Logger-Komponenten.</p>
</li>
<li>
<p><strong>Docker-Umgebung</strong>: Für die Bereitstellung und Verwaltung von Images, welche als Server verwendet werden können.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_technical_context">3.2. Technical Context</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Schnittstelle</th>
<th class="tableblock halign-left valign-top">Beschreibung</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LoggerComponent &#8594; LoggerServer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Austausch von Log-Messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LoggerServer &#8594; StringPersistor</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Speichern von Logs in Dateien über die StringPersistor-Komponente.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LoggerComponent&#8594; StringPersistor</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caching von Logs in Dateien über die StringPersistor-Komponente.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LoggerServer &#8594; LoggerViewer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bereitstellung von Echtzeit-Log-Daten.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Technischen Schnittstellen</strong></p>
</div>
<div class="paragraph">
<p>Die Logger-Komponenten interagieren über standardisierte Protokolle:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>TCP/IP</strong>: Sicherer und zuverlässiger Austausch von Logs.</p>
</li>
<li>
<p><strong>Docker-Integration</strong>: Automatisierte Bereitstellung und Konfiguration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Mapping Input/Output to Channels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Input (LoggerComponent):</strong> Log-Messages, die von Anwendungen erzeugt werden.</p>
</li>
<li>
<p><strong>Output (LoggerServer):</strong> Persistierte Logs in Dateien, Echtzeit-Logs (LoggerViewer).</p>
</li>
<li>
<p><strong>Channel:</strong> Kommunikation erfolgt über Netzwerkprotokolle (Custom-TCP-Protokoll und WebSockets).</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-solution-strategy">4. Solution Strategy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ziel ist ein Remote-Logging-System, mit welchem Logs von einem Client zu einem Server gesendet werden können. Dabei soll der Client Verbindungsunterbrüche handhaben können und keine LogMessages verlieren.</p>
</div>
<div class="paragraph">
<p>Damit diese Anforderungen abgedeckt werden können, wird eine TCP-Verbindung zum Server aufgebaut, über welche die LogMessages gesendet werden können. Sollte das Senden fehlschlagen oder ein Verbindungsunterbuch auftreten, wird die entsprechende LogMessage in einer lokalen Datei zwischengespeichert. Dies passiert auch für alle darauffolgenden LogMessages, bei denen noch keine Verbindung zum Server hergestellt werden konnte. Sobald die Verbindung zum Server wieder aufgebaut werden konnte, werden alle lokal gespeicherten LogMessages erneut zum Server gesendet. Somit wird sichergestellt, dass keine LogMessages verloren gehen.</p>
</div>
<div class="paragraph">
<p>Serverseitig sowie auch Client Seitig (bei einem Verbindungsabbruch oder einem Fehler) werden die LogMessages mittels der StringPersistor API in ein LogFile gespeichert.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-building-block-view">5. Building Block View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_level_2_container_diagram">5.1. Level 2 - Container-Diagram</h3>
<div class="paragraph">
<p>Das Container-Diagram zeigt die internen Komponenten und deren Beziehungen zueinander. Es gibt mehrere Container, welche zum einen zum Logging-System gehören und wie das Logging-System nach aussen kommuniziert, bzw. wie mit dem Logging-System interagiert werden.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/ContainerDiagram.jpeg" alt="Containers C4" width="600px">
</div>
<div class="title">Figure 2. C4_Containers</div>
</div>
</div>
<div class="sect2">
<h3 id="_level_3_component_diagram">5.2. Level 3 - Component-Diagram</h3>
<div class="paragraph">
<p>Im Komponenten-Diagram wird der interne Aufbau der Container genauer aufgezeigt.</p>
</div>
<div class="sect3">
<h4 id="_logger_component">5.2.1. Logger-Component</h4>
<div class="paragraph">
<p>Der Logger-Component ist in fünf Komponenten aufgebaut:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>LoggerComponent</strong>: Dies ist der Logger selbst, welcher vom Endbenutzer zum Senden von LogMessages verwendet wird.</p>
</li>
<li>
<p><strong>LogMessageSendQueue</strong>: Mittels dieses Interfaces können verschiedene Methoden zum Senden von LogMessages implementiert und verwendet werden. Momentan gibt es eine Strategie, die BlockingLogMessageSendQueue.</p>
</li>
<li>
<p><strong>ConnectionAPI</strong>: Dies ist eine auf Sockets aufgebaute Schnittstelle, mit derer mit dem Server kommuniziert werden kann.</p>
</li>
<li>
<p><strong>LogMessageFormatter</strong>: Diese Formatter ermöglichen es, die LogMessages in verschiedene Formaten zu formatieren.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/ComponentDiagramLoggerComponent.jpeg" alt="Component-Diagram LoggerComponent" width="600px">
</div>
<div class="title">Figure 3. C4_Components_LoggerComponent</div>
</div>
</div>
<div class="sect3">
<h4 id="_logger_server">5.2.2. Logger-Server</h4>
<div class="paragraph">
<p>Der Logger-Server empfängt und persistiert LogMessages und besteht aus sechs Komponenten:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Application</strong>: Der Startpunkt des Servers.</p>
</li>
<li>
<p><strong>ConfigSource</strong>: Verschiedene Möglichkeiten, den Server zu konfigurieren (.env, Properties oder CLI-Args).</p>
</li>
<li>
<p><strong>LoggerServer</strong>: Der Server selbst.</p>
</li>
<li>
<p><strong>LogAdapter</strong>: Eine Wrapper-Klasse für das StringPersistor Interface. Es ermöglicht eine vereinfachte Verwendung dieses, speziell für LogMessages zugeschnitten.</p>
</li>
<li>
<p><strong>LoggerClient</strong>: Repräsentiert einen verbundenen Client, welcher LogMessages senden und persistieren möchte.</p>
</li>
<li>
<p><strong>LogMessageFormatter</strong>: Diese Formatter ermöglichen es, die LogMessages in verschiedene Formate zu formatieren.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/ComponentDiagrammLoggerServer.jpg" alt="Component-Diagram LoggerServer" width="600px">
</div>
<div class="title">Figure 4. C4_Components_LoggerServer</div>
</div>
</div>
<div class="sect3">
<h4 id="_logger_viewer">5.2.3. Logger-Viewer</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>LoggerViewerServer</strong>: Server, welcher die Verbindungen der Clients managed.</p>
</li>
<li>
<p><strong>ViewerClient</strong>: Die Client Applikation, welche die Messages als Viewer auf der Command Line ausgibt.</p>
</li>
<li>
<p><strong>MessageDispatcher</strong>: Diese Klasse erhält vom Viewer Server die LoggerViewerClient Informationen.
Auf Basis dieser Informationen sendet der MessageDispatcher die Nachrichten an die verbundenen Clients senden.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/ComponentDiagrammLoggerViewer.jpg" alt="Component-Diagram LoggerViewer" width="600px">
</div>
<div class="title">Figure 5. C4_Components_LoggerViewer</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_level_4_klassen_diagramm">5.3. Level 4 - Klassen Diagramm</h3>
<div class="paragraph">
<p>Das Klassendiagramm bietet einen genaueren Einblick in die Implementation der Komponente. Nachfolgend werden die Klassendiagramme für alle Komponenten genauer beschrieben</p>
</div>
<div class="sect3">
<h4 id="_logger_component_2">5.3.1. Logger-Component</h4>
<div class="imageblock">
<div class="content">
<img src="./images/ClassDiagramLoggerComponent.jpg" alt="Class-Diagram LoggerComponent" width="600px">
</div>
<div class="title">Figure 6. C4_ClassDiagram_LoggerComponent</div>
</div>
<div class="paragraph">
<p>Dieses Diagramm zeigt das Zusammenspiel der Klassen des LoggerComponent. Nachfolgend werden die einzelnen Klassen genauer erläutert:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>LoggerFactory</strong>: Dies ist die Implementation des <code>LoggerSetup</code> Interfaces des Interface-Teams. Diese wird genutzt, um standardisiert <code>LoggerComponent</code> Instanzen zu erzeugen.</p>
</li>
<li>
<p><strong>LoggerComponent</strong>: Dies ist die Implementation des <code>Logger</code> Interfaces des Interface-Teams. Mittels dieser Klassen kann der Endbenutzer LogMessages einfach an den Server senden.</p>
</li>
<li>
<p><strong>Connection</strong>: Die <code>Connection</code> Klasse bietet eine einfache Möglichkeit, eine TCP Verbindung zum Server aufzubauen und <code>NetworkTransferable</code> (siehe Logger-Component) Objekte zu diesem zu senden.</p>
</li>
<li>
<p><strong>ReconnectConnection</strong>: Dies ist eine Spezialisierung der <code>Connection</code> Klasse und ermöglicht es, automatisch einen neuen Verbindungsaufbauversuch zu starten, nachdem eine gewisse Zeit vergangen ist.</p>
</li>
<li>
<p><strong>LogMessageCacheStrategy</strong>: Dies ist ein Interface welches es ermöglicht, verschiedene Methoden des Cachings von LogMessages zu implementieren.</p>
</li>
<li>
<p><strong>FileCacheStrategy</strong>: Die <code>FileCacheStrategy</code> ist eine Implementation von <code>LogMessageCacheStrategy</code>, welche die LogMessages in eine lokale Datei speichert. Dabei wird die <code>StringPersistorApi</code> verwendet.</p>
</li>
<li>
<p><strong>LogMessageSendQueue</strong>: Dies ist ein sehr schmales Interface, welches die Implementation verschiedener Methoden zum Senden von LogMessages and den Server ermöglicht. So können blockierende, nicht-blockierende oder parallele Strategien implementiert werden.</p>
</li>
<li>
<p><strong>BlockingLogMessageSendQueue</strong>: Dies ist eine Implementation von <code>LogMessageSendQueue</code>, welche LogMessages synchron an den Server sendet.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_logger_server_2">5.3.2. Logger-Server</h4>
<div class="imageblock">
<div class="content">
<img src="./images/ClassDiagramLoggerServer.jpg" alt="Class-Diagram LggerServer" width="600px">
</div>
<div class="title">Figure 7. C4_ClassDiagram_LoggerServer</div>
</div>
<div class="paragraph">
<p>Dieses Diagramm zeigt das Zusammenspiel der Klassen des LoggerServers. Nachfolgend werden die einzelnen Klassen genauer erläutert:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Application</strong>: Diese Klasse ist zum Starten des Servers zuständig. Dabei wir die Konfiguration mittels einer oder mehreren <code>ConfigSource</code> eingelesen und ein <code>LoggerServer</code> erstellt und gestartet.</p>
</li>
<li>
<p><strong>LoggerServer</strong>: Dies ist der Server selbst. Hier werden die eintreffenden TCP Verbindungen gehandhabt, sowie bestehende Verbindungen gespeichert.</p>
</li>
<li>
<p><strong>LoggerClient</strong>: Diese Klasse repräsentiert einen Verbundenen LoggerComponent, welcher LogMessages sendet. Hier wird dann mittels der vorgegebenen Formatierungsstrategie die LogMessage formatiert und mit dem <code>LogAdapter</code> (siehe Logger-Common) in ein Log-File gespeichert.</p>
</li>
<li>
<p><strong>ApplicationConfig</strong>: Hier kann die Konfiguration des Servers mittels einer oder mehrerer <code>ConfigSource</code> geladen werden.</p>
</li>
<li>
<p><strong>ConfigSource</strong>: Dies ist eine simple Schnittstelle, welche es ermöglicht, Konfigurationen von mehreren Quellen einzulesen.</p>
</li>
<li>
<p><strong>EnvConfigSource</strong>: Ermöglicht das Einlesen der Konfiguration mittels einer .env Datei.</p>
</li>
<li>
<p><strong>ArgsConfigSource</strong>: Ermöglicht das Einlesen der Konfiguration mittels der CLI-Argumente.</p>
</li>
<li>
<p><strong>PropertiesConfigSource</strong>: Ermöglicht das Einlesen der Konfiguration mittels eines Property-Files.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_logger_common">5.3.3. Logger-Common</h4>
<div class="imageblock">
<div class="content">
<img src="./images/ClassDiagramLoggerCommon.jpg" alt="Class-Diagram LggerCommon" width="600px">
</div>
<div class="title">Figure 8. C4_ClassDiagram_LoggerCommon</div>
</div>
<div class="paragraph">
<p>Dieses Diagramm zeigt das Zusammenspiel der Klassen des LoggerCommon. Diese Klassen werden vom Logger-Server und Logger-Component verwendet.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>NetworkTransferable</strong>: Dieses Interface spezifiziert, wie Klassen über ein <code>DataOutputStream</code> geschrieben und über <code>DataInputStream</code> wieder eingelesen werden kann.</p>
</li>
<li>
<p><strong>LogMessage</strong>: Diese Klasse stellt die auszutauschenden Log-Einträge dar. Diese implementiert das <code>NetworkTransferable</code> Interface, damit sie vom Client zum Server gesendet werden kann.</p>
</li>
<li>
<p><strong>NetworkMessageInputStream</strong>: Ein Wrapper für einen <code>InputStream</code>, zugeschnitten für Objekte des Typs <code>NetworkTransferable</code>.</p>
</li>
<li>
<p><strong>NetworkMessageOutputStream</strong>: Ein Wrapper für einen <code>OutputStream</code>, zugeschnitten für Objekte des Typs <code>NetworkTransferable</code>.</p>
</li>
<li>
<p><strong>InstantSerializer</strong>: Eine Hilfsklasse welche es einfach ermöglicht, einen Instant zu einem String zu formatieren und diesen daraus wieder auszulesen.</p>
</li>
<li>
<p><strong>FileCreator</strong>: Eine Hilfsklasse mit derer eine Datei in beliebig vielen (existenten oder nicht existenten) Unterordnern erstellt werden kann.</p>
</li>
<li>
<p><strong>EnumSerializer</strong>: Diese Klasse ermöglicht es, irgendwelche Enums über einen <code>DataOutputStream</code> zu schreiben und über einen <code>DataInputStream</code> wieder einzulesen.</p>
</li>
<li>
<p><strong>LogMessageFormat</strong>: Dieses Enum listet alle möglichen Formate für Logs auf.</p>
</li>
<li>
<p><strong>LogMessageFormatterFactory</strong>: Diese Factory erzeugt den passenden Formatter für das gewünschte Format.</p>
</li>
<li>
<p><strong>LogMessageFormatter</strong>: Spezifikation, wie ein Formatierer für Logs auszusehen hat.</p>
</li>
<li>
<p><strong>SpeedFormatter</strong>: Ein Formatierer, welcher auf Geschwindigkeit der Serialisation und Deserialisation optimiert ist.</p>
</li>
<li>
<p><strong>HumanReadableLogMessageFormatter</strong>: Formatiert Logs in ein für Menschen lesbares Format.</p>
</li>
<li>
<p><strong>XMLLogMessageFormatter</strong>: Formatiert Logs als XML.</p>
</li>
<li>
<p><strong>JSONLogMessageFormatter</strong>: Formatiert Logs als JSON.</p>
</li>
<li>
<p><strong>CompetitionLogMessageFormatter</strong>: Formatiert Logs für den Wettkampf am Ende des Moduls VSK.</p>
</li>
<li>
<p><strong>LogAdapter</strong>: Dieses Interface bietet eine einfache Schnittstelle, um Logs zu persistieren.</p>
</li>
<li>
<p><strong>StringPersistorLogAdapter</strong>: Ein Adapter für die StringPersistorApi, welche Logs in eine lokale Datei schreibt.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_logger_viewer_2">5.3.4. Logger-Viewer</h4>
<div class="imageblock">
<div class="content">
<img src="./images/LoggerViewerUML.png" alt="Class-Diagram LggerCommon" width="600px">
</div>
<div class="title">Figure 9. C4_ClassDiagram_LoggerCommon</div>
</div>
<div class="paragraph">
<p>Dieses Diagramm zeigt das Zusammenspiel der Klassen des LoggerViewers. Nachfolgend werden die einzelnen Klassen genauer erläutert:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>LoggerServer</strong>: Dies ist unsere LoggerServer Klasse, welche oben bereits beschrieben wurde.</p>
</li>
<li>
<p><strong>org.tyrus.glassfish.server</strong>: Diese Klasse ist ein Server, welcher auf der org.glassfish.tyrus.server Library basiert und mit WebSockets kommuniziert.
Sie wird in LoggerServer gestartet und ist für Clients erreichbar. Gibt Session Objekte an den MessageDispatcher weiter.</p>
</li>
<li>
<p><strong>LoggerViewerServerEndpoint</strong>: Diese Klasse handelt die Logik des Server ab und muss bei der Erstellung angegeben werden. Sie gibt an, was bei einer neuen Connection passiert und gibt zudem neue Clients (Sessions) an den Message Dispatcher.
Sie definiert auch, was passiert, wenn eine Session clientseitig geschlossen wird.</p>
</li>
<li>
<p><strong>LoggerViewerClient</strong>: Diese Klasse ist für die Client-Logik zuständig. Sie initialisiert die Verbindung zum Server, und gibt Nachrichten vom Server auf der Konsole aus.</p>
</li>
<li>
<p><strong>MessageDispatcher</strong>: Diese Klasse erhält von LoggerViewerServerEndpoint die LoggerViewerClient Informationen.
Auf Basis dieser Informationen sendet der MessageDispatcher die Nachrichten an die verbundenen Clients senden.</p>
</li>
<li>
<p><strong>Session</strong>: Diese Klasse repräsentiert eine Verbindung zwischen einem Client und dem Server. Sie wird vom Server erstellt und an den MessageDispatcher weitergegeben.</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-runtime-view">6. Runtime View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_erstellung_eines_neuen_loggercomponent">6.1. Erstellung eines neuen LoggerComponent</h3>
<div class="paragraph">
<p>Das folgende Sequenzdiagramm zeigt auf, wie einen neue LoggerComponent Instanz kreiert wird, anhand eines Beispiels mit der DemoApp:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sequenceDiagram
    title Create Logger instance
    participant DA as DemoApp
	participant LSF as LoggerSetupFactory
    participant LF as LoggerFactory
	participant Cacher as LogMessageCacheStrategy
	participant Queue as LogMessageSendQueue
	participant C as Connection
    participant LC as LoggerComponent

	DA-&gt;&gt;LSF: provider(providerName)
	LSF-&gt;&gt;LF: new LoggerFactory()
	LF--&gt;&gt;LSF: new LoggerFactory instance
	LSF--&gt;&gt;DA: new LoggerFactory instance
	DA-&gt;&gt;LF: getLogger(destination, name, ll)
	LF-&gt;&gt;Cacher: new FileCacheStrategy()
	Cacher--&gt;&gt;LF: cacher instance
	LF-&gt;&gt;Queue: new LogMessageSendQueue(host, port)
	Queue-&gt;&gt;C: new Connection(host, port)
	C--&gt;&gt;Queue: connection instance
	Queue--&gt;LF: queue instance
	LF-&gt;&gt;LC: new LoggerComponent(queue, clientName, ll)
	LC--&gt;&gt;LF: LoggerComponent instance
	LF--&gt;&gt;DA: LoggerComponent instance</pre>
</div>
</div>
<div class="paragraph">
<p>Die DemoApp erhält mit von der <code>LoggerSetupFactory</code> eine neue Instanz der <code>LoggerFactory</code>. Diese <code>LoggerFactory</code> kann dann genutzt werden, um mittels <code>getLogger()</code> eine
neue Instanz des LoggerComponents zu erzeugen. Dabei wird von der <code>LoggerFactory</code> eine neue <code>LogMessageSendQueue</code> erstellt, welche für das Senden von <code>LogMessages</code>
zuständig ist. Dabei wird von der <code>LoggerFactory</code> auch eine neue <code>LogMessageCacheStrategy</code> erstellt, welche das lokale Caching von <code>LogMessages</code> übernimmt.</p>
</div>
<div class="paragraph">
<p>Die <code>LogMessageSendQueue</code> nutzt intern die <code>Connection</code> Klasse, um eine TCP Verbindung zum Server aufzubauen und über diese <code>LogMessages</code> zu versenden.</p>
</div>
</div>
<div class="sect2">
<h3 id="_senden_von_logs">6.2. Senden von Logs</h3>
<div class="paragraph">
<p>Das folgende Sequenzdiagramm zeigt auf, wie Logs von einer Client-App (hier die DemoApp) an den Server versendet werden.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sequenceDiagram
    title Sending logs
    participant DA as DemoApp
    participant LC as LoggerComponent
    participant LM as LogMessage
	participant Queue as LogMessageSendQueue
	participant Cacher as LogMessageCacheStrategy
	participant C as Connection

	DA-&gt;&gt;LC: info(message)
	LC-&gt;&gt;LM: new LogMessage(now, name, ll, message)
	LM--&gt;&gt;LC: message: created instance
	LC--&gt;&gt;Queue: enqueue(message)

	note over Queue: example with the BlockingLogMessageSendQueue

	alt !connectionReady
		Queue-&gt;&gt;Cacher: save(message)
	else
		Queue-&gt;&gt;C: send(message)
		C--&gt;&gt;Queue: sendState

		alt sendState == false
			Queue-&gt;&gt;Cacher: save(message)
		end
	end</pre>
</div>
</div>
<div class="paragraph">
<p>Die DemoApp kann mittels info, warning etc. Logs an den Server senden. Dabei wird anhand des von der DemoApp übergebenen Texts und des LogLevels eine neue <code>LogMessage</code> erstellt. Diese wird dann der <code>LogMessageSendQueue</code> übergeben, welche das Versenden von Logs handhabt. Falls keine Verbindung zum Server bestehen sollte, wird die <code>LogMessage</code> mit der genutzten Caching-Strategy lokal gespeichert. Sollte eine Verbindung zum Server bestehen, so wird versucht die <code>LogMessage</code> zum Server zu senden. Sollte dies scheitern, wird die <code>LogMessage</code> lokal zwischengespeichert.</p>
</div>
</div>
<div class="sect2">
<h3 id="_senden_von_objekten_über_das_netzwerk">6.3. Senden von Objekten über das Netzwerk</h3>
<div class="paragraph">
<p>Das folgende Sequenzdiagramm zeigt auf, wie Objekte zwischen Client und Server ausgetauscht werden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sequenceDiagram
    title Transfer objects over a TCP stream
    participant Client as Client
    participant OBJ as NetworkTransferable
    participant Conn as Connection
    participant OUT as NetworkMessageOutputStream
    participant IN as NetworkMessageInputStream
    participant Server as Server

    Client-&gt;&gt;OBJ: new NetworkTransferable()
    OBJ--&gt;&gt;Client: obj: new instance
    Client-&gt;&gt;Conn: send(obj)
    alt isConnected() == false
        Conn--&gt;&gt;Client: state: false
    else
        Conn-&gt;&gt;OUT: writeObject(obj)
        OUT-&gt;&gt;OBJ: serialize(this)
        OUT-&gt;&gt;OUT: flush()
		OUT--&gt;&gt;IN: sends bytes over tcp connection
        OUT--&gt;&gt;Conn: flushed
		Conn--&gt;&gt;Client: object sent
    end

    Server-&gt;&gt;IN: nextObject()
    Note over IN: Reads the next serialVersionID
    IN-&gt;&gt;IN: id: readShort()
    Note over IN: Selects object type based on serialVersionID
    alt id == NetworkTransferable.serialVersionUID
        IN-&gt;&gt;OBJ: deserialize(this)
        OBJ--&gt;&gt;IN: instance: deserialized data
        IN--&gt;&gt;Server: instance
    else
        IN--&gt;&gt;Server: null
    end</pre>
</div>
</div>
<div class="paragraph">
<p>Objekte können mittels des <code>NetworkMessageOutputStreams</code> gesendet werden, welcher eine Spezialisierung des <code>DataOutputStreams</code> ist. Das schreiben Daten auf den OutputStream handhabt das zu sendende Objekt selbst.</p>
</div>
<div class="paragraph">
<p>Auf der Gegenseite kann der <code>NetworkMessageInputStreams</code> genutzt werden, um das nächste Objekt auf dem Stream zu lesen. Dabei wird zuerst die <strong>serialVersionUID</strong> eingelesen und anhand derer entschieden, welche Implementation von <code>NetworkTransferable</code> erstellt werden soll.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-deployment-view">7. Deployment View</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dieser Abschnitt beschreibt die Zuordnung von Komponenten zu den Zielsystemen (Deployment-Systeme) sowie die Anforderungen an diese Systeme. Verschiedene Szenarien werden dargestellt, um die Flexibilität und Skalierbarkeit des Systems zu verdeutlichen.</p>
</div>
<div class="sect2">
<h3 id="_infrastructure_level_1">7.1. Infrastructure Level 1</h3>
<div class="paragraph">
<p><span class="image"><img src="./images/DeploymentDiagramm.jpg" alt="Deployment Diagram" width="600px" title="Infrastructure Level 1 Overview"></span></p>
</div>
<div class="paragraph">
<p>Wie in dem obenstehenden Diagramm ersichtlich, wird das Logger System, auf zwei physischen Komponenten laufen.
Zum einen auf ein Client welcher die Logs senden will und auf den Server, welcher die Logs sammelt und gebündelt zur Verfügung stellt.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Mapping von Building Blocks zur Infrastruktur</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><em>LoggerComponent:</em> Wird auf den Client-Systemen ausgeführt und sammelt Log-Messages.</p>
</li>
<li>
<p><em>LoggerServer:</em> Läuft auf zentralen Servern und verarbeitet Log-Messages.</p>
</li>
<li>
<p><em>LoggerViewer:</em> Läuft auf demselben System wie der Logger Server und wird  zur Echtzeit-Überwachung betrieben werden.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_infrastructure_level_2">7.2. Infrastructure Level 2</h3>
<div class="sect3">
<h4 id="_loggercomponent">7.2.1. <em>LoggerComponent</em></h4>
<div class="paragraph">
<p><strong>Beschreibung:</strong>
- Die LoggerComponent wird auf den Zielsystemen der Clients installiert.
- Sie sammelt Logs und sendet sie über eine TCP/IP-Verbindung an den zentralen LoggerServer.
- Falls die Verbindung unterbrochen wird, speichert sie Logs lokal zwischen.</p>
</div>
<div class="paragraph">
<p><strong>Anforderungen:</strong>
- Betriebssystem: Plattformunabhängig, Java-kompatibel.
- Netzwerk: Zugriff auf den LoggerServer erforderlich.</p>
</div>
</div>
<div class="sect3">
<h4 id="_loggerserver">7.2.2. <em>LoggerServer</em></h4>
<div class="paragraph">
<p><strong>Beschreibung:</strong>
- Der LoggerServer verarbeitet Log-Messages und speichert sie über die StringPersistor-Komponente.</p>
</div>
<div class="paragraph">
<p><strong>Anforderungen:</strong>
- Netzwerk: stabile Verbindung zu LoggerClients und LoggerViewer.
- Speicher: Ausreichend Kapazität für persistente Log-Daten.</p>
</div>
</div>
<div class="sect3">
<h4 id="_loggerviewer">7.2.3. <em>LoggerViewer</em></h4>
<div class="paragraph">
<p><strong>Beschreibung:</strong>
- Der LoggerViewerServer pusht die Log-Nachrichten die der Server erhält an verbundene Clients.
- Der LoggerViewerServer läuft auf demselben System wie der LoggerServer</p>
</div>
<div class="paragraph">
<p><strong>Anforderungen:</strong>
- Betriebssystem: Plattformunabhängig.
- Netzwerk: Zugriff auf LoggerServer erforderlich.</p>
</div>
</div>
<div class="sect3">
<h4 id="_loggerviewerclient">7.2.4. <em>LoggerViewerClient</em></h4>
<div class="paragraph">
<p><strong>Beschreibung:</strong>
- Der LoggerViewerClient läuft auf einem eigenen System und kann sich auf den LoggerViewerServer verbinden und Messages anzeigen lassen.
- er wird mit einer .jar Datei gestartet und gibt Logs auf der Console aus.
<strong>Anforderungen:</strong>
- Betriebssystem: Plattformunabhängig.
- Netzwerk: Zugriff auf LoggerViewerServer erforderlich.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts">8. Concepts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In diesem Kapitel werden die Konzepte, welche mehrere Komponenten betreffen, genauer beschrieben.</p>
</div>
<div class="sect2">
<h3 id="_schnittstelle_zwischen_loggercomponent_und_loggerserver">8.1. Schnittstelle zwischen LoggerComponent und LoggerServer</h3>
<div class="paragraph">
<p>Die Schnittstelle zwischen LoggerComponent und LoggerServer wurde mittels TCP Sockets realisiert. Um Objekte über den TCP Stream zu senden, wird das <code>NetworkTransferable</code> Interface verwendet. Dieses gibt die Methode <code>serialize(DataOutputStream outStream)</code> vor. In dieser Methode werden alle benötigten Attribute der Klasse auf den Stream geschrieben. Wichtig hierbei ist, dass die <code>serialVersionUID</code> des Objektes zuerst auf den Stream geschrieben wird. Anhand dieser kann der Empfänger verschiedene Objekte identifizieren. Der Empfänger nutzt den <code>NetworkMessageOutputStream</code>, welcher anhand der <code>serialVersionUID</code> der Klassen die entsprechende <code>deserialize(DataInputStream inStream)</code> Methode aufruft. Diese Methode liest dann die nötigen Daten aus dem Stream und erstellt ein neues Objekt der entsprechenden Klasse. Ein Sequenzdiagramm dazu befindet sich in der Dokumentation zur Runtime View.</p>
</div>
</div>
<div class="sect2">
<h3 id="_teststrategie_für_das_logger_projekt">8.2. Teststrategie für das Logger-Projekt</h3>
<div class="sect3">
<h4 id="_ziel_der_teststrategie">8.2.1. Ziel der Teststrategie</h4>
<div class="paragraph">
<p>Die Teststrategie für das Logger-Projekt dient dazu, die Qualität und Funktionsfähigkeit des Loggers sicherzustellen.
Die Tests sollen sicherstellen, dass alle Anforderungen der User Stories und die Akzeptanzkriterien erfüllt werden.
Weiter umfasst die Teststrategie manuelle Systemtests, um die wichtigsten Funktionen des Loggers aus Benutzersicht zu prüfen, sowie automatisierte Tests, um eine kontinuierliche Qualitätssicherung zu gewährleisten.</p>
</div>
</div>
<div class="sect3">
<h4 id="_testansätze">8.2.2. Testansätze</h4>
<div class="sect4">
<h5 id="_manuelle_systemtests">Manuelle Systemtests</h5>
<div class="paragraph">
<p>Die manuellen Tests sollen grundlegende Funktionen des Loggers validieren und sich an den Akzeptanzkriterien der User Stories orientieren.
Für die drei wichtigsten Anwendungsfälle werden Drehbücher erstellt, um eine strukturierte und nachvollziehbare Prüfung zu gewährleisten.</p>
</div>
<div class="sect5">
<h6 id="_1_logs_aus_cache_nach_client_neustart_an_server_senden">1. Logs aus Cache nach Client Neustart an Server senden</h6>
<div class="paragraph">
<p>Dieser Test überprüft, ob Logs korrekt zwischengespeichert werden, auch wenn von Anfang an keine Verbindung zum Server besteht.</p>
</div>
</div>
<div class="sect5">
<h6 id="_vorbedingungen">Vorbedingungen</h6>
<div class="ulist">
<ul>
<li>
<p>Java Entwicklungsumgebung installiert (z.B. Intellij IDEA)</p>
</li>
<li>
<p>Java installiert (Version 21.x)</p>
</li>
<li>
<p>g05-demoapp und g05-logger sind lokal ausgecheckt</p>
</li>
<li>
<p>Genutzte Logger Dependency in der DemoApp stimmt mit LoggerServer überein</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_drehbuch">Drehbuch</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Schritt</th>
<th class="tableblock halign-left valign-top">Aktion</th>
<th class="tableblock halign-left valign-top">Erwartetes Resultat</th>
<th class="tableblock halign-left valign-top">Effektives Resultat</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DemoApp starten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>main()</em> Methode der DemoApp aufrufen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DemoApp startet und ist bereit, Logs an den Server zu senden</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs senden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mehrere Logs eingeben</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LogMessages werden lokal in einer Datei gespeichert.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DemoApp beenden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>exit</em> eingeben</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DemoApp beendet sich</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LoggerServer starten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>main()</em> Methode der Application Klasse aufrufen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server startet und gibt aus, auf welchem Port/Host er läuft.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DemoApp starten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>main()</em> Methode der DemoApp aufrufen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DemoApp startet und ist bereit, Logs an den Server zu senden</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs verifizieren <em>(Client)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache File öffnen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das lokale Cache-File ist leer</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs verifizieren <em>(Server)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log File öffnen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alle gesendeten Logs sind gespeichert</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_2_loggerviewer_sieht_alle_logmessages_live">2. LoggerViewer sieht alle LogMessages live</h5>
<div class="paragraph">
<p>Dieser Test überprüft, ob der LoggerViewer alle Logs in Echtzeit empfangen und anzeigen kann.</p>
</div>
<div class="sect5">
<h6 id="_vorbedingungen_2">Vorbedingungen</h6>
<div class="ulist">
<ul>
<li>
<p>Java Entwicklungsumgebung installiert (z.B. Intellij IDEA)</p>
</li>
<li>
<p>Java installiert (Version 21.x)</p>
</li>
<li>
<p>g05-demoapp g05-logger sind lokal ausgecheckt</p>
</li>
<li>
<p>Genutzte Logger Dependency in der DemoApp stimmt mit LoggerServer überein</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_drehbuch_2">Drehbuch</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Schritt</th>
<th class="tableblock halign-left valign-top">Aktion</th>
<th class="tableblock halign-left valign-top">Erwartetes Resultat</th>
<th class="tableblock halign-left valign-top">Effektives Resultat</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LoggerServer starten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>main()</em> Methode der Application Klasse aufrufen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server startet und gibt aus, auf welchem Port/Host er läuft.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DemoApp starten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>main()</em> Methode der DemoApp aufrufen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DemoApp startet und ist bereit, Logs an den Server zu senden</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LoggerViewer starten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>main()</em> Methode des LoggerViewer aufrufen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LoggerViewer startet und ist bereit, Logs vom Server zu empfangen</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs senden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs in DemoApp senden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs werden zum Server gesendet</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs anzeigen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLI des LoggerViewer prüfen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gesendete LogMessages werden im CLI angezeigt</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_3_verbindungsunterbruch_während_demoapp_läuft">3. Verbindungsunterbruch während DemoApp läuft</h5>
<div class="paragraph">
<p>Dieser Test überprüft, ob alle Logs zum Server gesendet werden, auch wenn die Verbindung zwischendurch getrennt wurde.</p>
</div>
<div class="sect5">
<h6 id="_drehbuch_3">Drehbuch</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Schritt</th>
<th class="tableblock halign-left valign-top">Aktion</th>
<th class="tableblock halign-left valign-top">Erwartetes Resultat</th>
<th class="tableblock halign-left valign-top">Effektives Resultat</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LoggerServer starten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>main()</em> Methode der Application Klasse aufrufen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server startet und gibt aus, auf welchem Port/Host er läuft.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DemoApp starten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>main()</em> Methode der DemoApp aufrufen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DemoApp startet und ist bereit, Logs an den Server zu senden</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs senden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs in DemoApp senden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs werden zum Server gesendet</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LoggerServer stoppen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LoggerServer beenden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LoggerServer wurde korrekt beendet</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs senden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs in DemoApp senden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gesendete LogMessages werden lokal im CacheFile zwischengespeichert</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LoggerServer starten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>main()</em> Methode der Application Klasse aufrufen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server startet und gibt aus, auf welchem Port/Host er läuft.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs verifizieren <em>(Client)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache File öffnen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das lokale Cache-File ist leer</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs verifizieren <em>(Server)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log File öffnen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alle gesendeten Logs sind gespeichert</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Test-Protokolle sind in diesem Dokument unter Punkt 13 unterhalb dem Glossary zu finden!</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_weitere_manuelle_systemtests">Weitere manuelle Systemtests</h5>
<div class="sect5">
<h6 id="_systemtest_1_log_erfassung_und_speicherung">Systemtest 1: Log-Erfassung und -Speicherung</h6>
<div class="ulist">
<ul>
<li>
<p><strong>Vorbedingungen</strong>: Der LoggerServer ist betriebsbereit und gestartet.</p>
</li>
<li>
<p><strong>Schritte</strong>:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Eine neue Log-Nachricht mit Beispieltext eingeben und mit der &lt;Enter&gt; Taste Versenden.</p>
</li>
<li>
<p>Überprüfen, ob die Nachricht korrekt im System gespeichert wird.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Erwartetes Ergebnis</strong>: Die Log-Nachricht wird erfolgreich erfasst und in dem File angehängt.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_systemtest_2_filterfunktion">Systemtest 2: Filterfunktion</h6>
<div class="ulist">
<ul>
<li>
<p><strong>Vorbedingungen</strong>: Der LoggerServer ist betriebsbereit und gestartet.</p>
</li>
<li>
<p><strong>Schritte</strong>:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Einen Filter auf ein Loglevel setzen.</p>
</li>
<li>
<p>Prüfen, ob nur die Ergebnisse im Log auftauchen, welche das Minimum dessen LogLevels haben.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Erwartetes Ergebnis</strong>: Nur die Einträge, welche das erforderte Log-Level oder ein Log-Level höherer Stufen hat, ist im Log-File anzutreffen.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_automatisierte_tests">Automatisierte Tests</h5>
<div class="paragraph">
<p>Die automatisierten Tests fokussieren sich auf wiederkehrende Testfälle und gewährleisten eine kontinuierliche Überwachung der Qualität.
Schwerpunkte liegen auf Unit-Tests und Integrations-Tests. Die Tests werden im mvn-build Prozess sowie in der CI/CD-Pipeline integriert, sodass neue Änderungen automatisch überprüft werden.</p>
</div>
<div class="paragraph">
<p><strong>Automatisierte Integrations-Tests mit Docker umfassen:</strong>
Unit-Tests zur Validierung einzelner Funktionen und Methoden.
Integrations-Tests zur Prüfung der Zusammenarbeit von Komponenten.
Unser Projekt umfasst die folgenden-Integrationstests:<br>
1. LoggerViewerClientIT: Startet den LoggerServer bzw. LoggerViewerServer innerhalb eines Docker Containers. Logger verbindet sich mit dem LoggerServer und LoggerViewerClient verbindet sich mit dem LoggerViewerServer. Danach werden Nachrichten auf den LoggerServer gesendet und überprüft, ob sie im LoggerViewerClient ankommen.<br>
2. CacheLogMessagesIT: Startet den LoggerServer in einem Container und verbindet sich mit einer Instanz eines Loggers auf diesen Server.
Es werden dann Nachrichten an den Server gesendet und überprüft, ob sie im Container gespeichert worden sind. Der Pfad des Files im Container wird beim Start angegeben.<br>
3. ReconnectToServerIT: Startet den LoggerServer in einem Container und verbindet sich mit einer ReconnectConnection darauf. Danach wird der Server gestoppt und wieder gestartet.
Es wird überprüft, ob die Connection wieder aufgebaut wird.<br></p>
</div>
<div class="paragraph">
<p><strong>Automatisierte Unit-Tests umfassen unter anderen</strong>
1. Tests um die Formatter-Strategien zu testen
2. File CreatorTest: Testet, ob die Files korrekt erstellt werden
3. LogLevelThresholdTest: Testet, ob die LogMessages korrekt gefiltert werden
4. Tests um ConfigSource-Varianten zu testen.
5. StringPersistorTest: Testet, ob die LogMessages korrekt gespeichert werden</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-design-decisions">9. Architecture Decisions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In diesem Kapitel werden die einzelnen, im Projekt verwendeten Patterns mit UML-Diagrammen kurz beschrieben.</p>
</div>
<div class="sect2">
<h3 id="_log_adapter_pattern">9.1. Log Adapter Pattern</h3>
<div class="paragraph">
<p>Das LogAdapterPattern ermöglicht den Gebrauch des StringPersistorLogAdapter im LoggerServer und in anderen Klassen wie FileCacheStrategy oder LoggerClient.
Der LogAdapter wird in unserem Projekt also wiederverwendet. Das Log Adapter Pattern schafft also eine klare Trennung zwischen dem StringPersistor und dem Client (LoggerServer).
Der StringPersistor kann jetzt in einem möglichen, weiteren Verlauf des Projekts von anderen Klassen, allenfalls mit der Erstellung eines weiteren Adapters wiederverwendet werden.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/LogAdapterPattern.png" alt="Overview Diagram" width="1200px" height="title"Log Adapter Pattern""></span></p>
</div>
<div class="sect3">
<h4 id="_strategy_pattern">9.1.1. Strategy Pattern</h4>
<div class="paragraph">
<p>Das Strategy Pattern ermöglicht das Serialisieren und Deserialsieren von LogMessages mithilfe des Interface LogMessageFormatter.
Die verschiedenen Klassen der File-Typen implementieren alle dieses Interface.
StringPersistorLogAdapter oder eine andere Klasse kann jetzt mithilfe der Factory-Methode LogMessageFormatterFactory einen Formatter erstellen, mit welchem dann die LogMessages serialisiert werden können.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/StrategyPattern.png" alt="Overview Diagram" width="1200px" title="Strategy Pattern"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_server_config_strategy">9.1.2. Server Config (Strategy)</h4>
<div class="paragraph">
<p>Beim Konfigurieren des Network Interface (host), dem port und dem Log Output files des LoggerServers wird ebenfalls ein Strategy Pattern verwendet. Beim Starten des Servers kann zwischen drei Strategien ausgewählt werden. Die Konfiguration wird entweder direkt mit den Argumenten der command line, mithilfe eines Property Files oder mit einem .env file vorgenommen.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/ConfigSource%20Strategy%20Pattern.png" alt="Overview Diagram" width="1200px" title="ConfigSource Strategy Pattern"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_logmessagesendqueue_und_logmessagecachestrategy">9.1.3. LogMessageSendQueue und LogMessageCacheStrategy</h4>
<div class="paragraph">
<p>Es wurde auch an weiteren Stellen in der Architektur oft mit Interfaces gearbeitet, um den Source Code für weitere Erweiterungen offenzuhalten. So haben wir für diese beiden Strategy Pattern jeweils nur eine Strategy, aber zukünftig könnten weitere folgen. LogMessageCacheStrategy hat bis anhin nur eine FileCacheStrategy um Inhalte mithilfe des String Persistors in ein File zu speichern, könnte aber in Zukunft auch eine weitere Strategy zum Cachen in einer Datenbank enthalten. Auch das LogMessageSendQueue Interface könnte von weiteren Klassen implementiert werden und dann mit wenig Aufwand auf unseren Logger nutzbar gemacht werden.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/weitere%20Strategy%20Pattern.png" alt="Overview Diagram" width="1200px" title="weitere Strategy Pattern"></span></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-quality-scenarios">10. Quality Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_quality_tree">10.1. Quality Tree</h3>
<div class="paragraph">
<p><strong>Diagram or Table</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Qualitätsattribut</th>
<th class="tableblock halign-left valign-top">Beschreibung</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Zuverlässigkeit</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Es dürfen keine Log-Messages verloren gehen, selbst bei Netzwerkunterbrechungen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Wartbarkeit</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Neue Funktionen oder Änderungen an der Konfiguration müssen ohne größere Anpassungen implementiert werden können.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Skalierbarkeit</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das System muss auch bei mehreren Logger-Clients stabil bleiben.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_quality_scenarios">10.2. Quality Scenarios</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Szenario-ID</th>
<th class="tableblock halign-left valign-top">Qualitätsattribut</th>
<th class="tableblock halign-left valign-top">Beschreibung</th>
<th class="tableblock halign-left valign-top">Akzeptanzkriterien</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>QS-001</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Zuverlässigkeit</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wie wird garantiert, dass Nachrichten nicht verloren gehen?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log-Messages werden bei Unterbrechungen lokal zwischengespeichert und nach Wiederherstellung der Verbindung in der korrekten Reihenfolge übertragen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>QS-002</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Wartbarkeit</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wie wird die Erweiterbarkeit des Systems sichergestellt?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verwendung von Design-Patterns wie Adapter und Strategien; Konfigurationsmöglichkeiten über externe Dateien.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>QS-003</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Skalierbarkeit</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wie wird sichergestellt, dass das System auch mit mehreren Logger-Clients stabil bleibt?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Der LoggerServer kann mehrere, gleichzeitige Verbindungen verwalten, ohne die Antwortzeit zu beeinträchtigen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>QS-004</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Usability</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wie wird sichergestellt, dass Administratoren das System einfach konfigurieren können?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bereitstellung einer benutzerfreundlichen Konfigurationsdatei für die Anpassung von Server- und Client-Parametern.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>QS-005</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Langlebigkeit</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wie wird sichergestellt, dass das System auch langfristig wartbar bleibt?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dokumentation des Codes, regelmäßige Code-Reviews und eine klare Trennung der Verantwortlichkeiten innerhalb der Komponenten.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>QS-006</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Fehlermeldung</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wie wird das System sicherstellen, dass Fehler und Ausnahmen ordnungsgemäß protokolliert werden?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das System protokolliert alle Fehler im Logger-Server und stellt sicher, dass alle Ausnahmebedingungen erfasst werden.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>QS-007</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Echtzeit-Überwachung</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wie wird das System sicherstellen, dass Administratoren Logs in Echtzeit überwachen können?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Der LoggerViewer zeigt alle neu eintreffenden Logs in Echtzeit an, ohne dass historische Daten angezeigt werden.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Optionale Erläuterung:</strong>
Die Szenarien decken die zentralen Qualitätsanforderungen des Systems ab. Jedes Szenario ist durch Testkriterien und eine definierte Implementierungsstrategie überprüfbar.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-technical-risks">11. Risks and Technical Debts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dieser Abschnitt beschreibt die potenziellen Risiken und technischen Schulden, die während der Architektur-, Design-, Modularisierung-, Implementierung- und Testphasen des Projekts auftreten können. Diese Risiken können zu Problemen, Einschränkungen oder Mehraufwand in der Verwendung oder Weiterentwicklung des Systems führen.</p>
</div>
<div class="sect2">
<h3 id="_architektur">11.1. Architektur</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Monolithische Architektur:</strong> Die Entscheidung, eine monolithische Struktur zu verwenden, kann in der Zukunft zu Skalierbarkeitsproblemen führen. Die Trennung von Komponenten und deren Kommunikation über APIs könnte langfristig eine bessere Wahl sein.</p>
</li>
<li>
<p><strong>Mangelnde Flexibilität bei der Konfiguration:</strong> Eine zu starre Architektur, bei der wichtige Konfigurationsparameter fest kodiert sind, könnte spätere Anpassungen erschweren, insbesondere wenn neue Anforderungen hinzukommen.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_design">11.2. Design</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Zu starke Kopplung von Komponenten:</strong> Falls Komponenten zu stark miteinander gekoppelt sind, wird das System schwieriger zu warten und zu erweitern. Dies kann insbesondere dann problematisch sein, wenn neue Logger-Features hinzugefügt oder bestehende Logik geändert werden müssen.</p>
</li>
<li>
<p><strong>Fehlende Modularität:</strong> Wenn das Design zu wenige klar abgegrenzte Module aufweist, wird es schwieriger, spezifische Komponenten unabhängig voneinander zu testen, zu erweitern oder zu ersetzen.</p>
</li>
<li>
<p><strong>Suboptimale Nutzung von Design-Patterns:</strong> Ein ungenauer oder inkonsistenter Einsatz von Design-Patterns (z.B. Adapter, Strategie) kann zu einer erhöhten Komplexität führen und die Wartbarkeit verringern.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_modularisierung">11.3. Modularisierung</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Zu viele monolithische Komponenten:</strong> Wenn die Modularisierung nicht korrekt durchgeführt wird, können wir in Zukunft an einem Punkt landen, an dem einzelne Komponenten nicht mehr einfach ersetzt oder erweitert werden können, da sie sich zu sehr in andere Teile des Systems integrieren.</p>
</li>
<li>
<p><strong>Unklare Schnittstellen zwischen Modulen:</strong> Die Wahl von schlecht definierten Schnittstellen zwischen Modulen kann zu Komplikationen führen, wenn neue Features hinzukommen oder bestehende Komponenten ersetzt werden.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_implementierung">11.4. Implementierung</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Verzicht auf Fehlerbehandlung:</strong> Wenn Fehlerbehandlung nicht konsequent implementiert wird, kann dies zu einem Verlust von Logs oder einem fehlerhaften Systemverhalten führen. Insbesondere bei der Verarbeitung von Netzwerkunterbrechungen sollte auf eine robuste Fehlerbehandlung geachtet werden.</p>
</li>
<li>
<p><strong>Zu starke Abhängigkeit von spezifischen Technologien:</strong> Falls die Implementierung zu stark auf eine einzelne Technologie oder ein einzelnes Framework (z.B. TLS-Implementierung, bestimmte Bibliotheken) setzt, könnte dies zu Problemen führen, falls diese Technologie in der Zukunft nicht mehr unterstützt wird.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_testing">11.5. Testing</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Unzureichende Unit-Tests:</strong> Wenn Unit-Tests nicht umfassend oder unvollständig sind, könnte es später zu unvorhergesehenen Fehlern kommen, die nur unter speziellen Bedingungen auftreten. Dies könnte den Testaufwand bei der Weiterentwicklung erhöhen.</p>
</li>
<li>
<p><strong>Testen von End-to-End-Szenarien:</strong> Ein zu fokussierter Testansatz, der nicht auch End-to-End-Tests berücksichtigt, könnte dazu führen, dass das System in der Gesamtintegration fehlerhaft ist, auch wenn einzelne Komponenten gut funktionieren.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-Test_Protokolle">12. Test Protokoll</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_test_protokoll_1_logger_client_cashing_ohne_verbindung_zum_server">12.1. Test-Protokoll 1: Logger Client cashing ohne Verbindung zum Server</h3>
<div class="sect3">
<h4 id="_allgemeine_informationen">12.1.1. Allgemeine Informationen</h4>
<div class="ulist">
<ul>
<li>
<p>Datum: 15.12.2024 19:00</p>
</li>
<li>
<p>Tester: Fabian Stettler</p>
</li>
<li>
<p>Ziel: In diesem manuellen Systemtest, soll überprüft werde, ob geloggte Nachrichten vom Client im LoggerViewer live sichtbar sind.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_test_umgebung">12.1.2. Test Umgebung</h4>
<div class="ulist">
<ul>
<li>
<p>Hardware: mein persönlicher Laptop (Lenovo Yoga)</p>
</li>
<li>
<p>OS: Windows</p>
</li>
<li>
<p>Software: IntelliJ IDEA, Java 21.x</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_test_durchführung">12.1.3. Test Durchführung</h4>
<div class="paragraph">
<p><span class="image"><img src="./images/ClientNoInitialConnectionCacheAndSend.png" alt="Overview Diagram" width="1200px" title="Test Protokoll Logger Client cashing ohne Verbindung zum Server"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_fazit">12.1.4. Fazit</h4>
<div class="ulist">
<ul>
<li>
<p>Der Test hat funktioniert wie angenommen.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_protokoll_2_logger_server_hat_verbindungsunterbruch_während_dem_senden_von_logmessages">12.2. Test-Protokoll 2: Logger Server hat Verbindungsunterbruch während dem Senden von LogMessages</h3>
<div class="sect3">
<h4 id="_allgemeine_informationen_2">12.2.1. Allgemeine Informationen</h4>
<div class="ulist">
<ul>
<li>
<p>Datum: 15.12.2024 19:00</p>
</li>
<li>
<p>Tester: Fabian Stettler</p>
</li>
<li>
<p>Ziel: In diesem manuellen Systemtest, soll überprüft werde, ob geloggte Nachrichten vom Client im LoggerViewer live sichtbar sind.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_test_umgebung_2">12.2.2. Test Umgebung</h4>
<div class="ulist">
<ul>
<li>
<p>Hardware: mein persönlicher Laptop (Lenovo Yoga)</p>
</li>
<li>
<p>OS: Windows</p>
</li>
<li>
<p>Software: IntelliJ IDEA, Java 21.x</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/ServerDisconnectDuringConnection.png" alt="Overview Diagram" width="1200px" title="Test Protokoll Logger Server hat Verbindungsunterbruch während dem Senden von LogMessages"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_fazit_2">12.2.3. Fazit</h4>
<div class="ulist">
<ul>
<li>
<p>Der Test hat funktioniert wie angenommen.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_weitere_anmerkungen">12.2.4. weitere Anmerkungen</h4>
<div class="ulist">
<ul>
<li>
<p>Beim Unterbruch der Verbindung wird eine SocketException auf der Konsole ausgegeben, kleine Unschönheit.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_protokoll_3_client_sendet_logmessages_an_server_und_loggerviewer_zeigt_sie_live_an">12.3. Test-Protokoll 3: Client sendet LogMessages an Server und LoggerViewer zeigt sie live an</h3>
<div class="sect3">
<h4 id="_allgemeine_informationen_3">12.3.1. Allgemeine Informationen</h4>
<div class="ulist">
<ul>
<li>
<p>Datum: 15.12.2024 19:00</p>
</li>
<li>
<p>Tester: Fabian Stettler</p>
</li>
<li>
<p>Ziel: In diesem manuellen Systemtest, soll überprüft werde, ob geloggte Nachrichten vom Client im LoggerViewer live sichtbar sind.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_test_umgebung_3">12.3.2. Test Umgebung</h4>
<div class="ulist">
<ul>
<li>
<p>Hardware: mein persönlicher Laptop (Lenovo Yoga)</p>
</li>
<li>
<p>OS: Windows</p>
</li>
<li>
<p>Software: IntelliJ IDEA, Java 21.x</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_test_durchführung_2">12.3.3. Test Durchführung</h4>
<div class="paragraph">
<p><span class="image"><img src="./images/TestProtokoll_LoggerViewer.png" alt="Overview Diagram" width="1200px" title="Test Protokoll Logger Server hat Verbindungsunterbruch während dem Senden von LogMessages"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_fazit_3">12.3.4. Fazit</h4>
<div class="ulist">
<ul>
<li>
<p>Der Test hat funktioniert wie angenommen.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 8.2 EN<br>
Last updated 2024-10-22 12:32:27 +0200
</div>
</div>
</body>
</html>